<%= render "shared/navbar" %>

<div class="car-show-page" style="display: flex; gap: 2rem; align-items: flex-start;">
  <!-- Left: Gallery -->
  <div class="gallery" style="flex: 2;">
    <h1><%= @car.make %> <%= @car.model %> | <%= @car.year %></h1>

    <% if @car.images.attached? %>
      <div class="main-image">
        <%= image_tag @car.images.first.variant(resize_to_limit: [800, 600]) %>
      </div>
      <div class="thumbnail-grid">
        <% @car.images.each do |image| %>
          <%= image_tag image.variant(resize_to_limit: [150, 150]), class: "thumbnail" %>
        <% end %>
      </div>
    <% end %>

    <p><strong>Transmission:</strong> <%= @car.transmission %></p>
    <p><strong>Fuel Type:</strong> <%= @car.fuel_type %></p>
    <p><strong>Description:</strong> <%= @car.description %></p>
  </div>

  <!-- Right: Booking Card -->
  <div class="card" style="flex: 1;">
    <h2><%= number_to_currency(@car.price_per_day) %> / day</h2>

    <%= simple_form_for [@car, @booking] do |f| %>
      <%= f.input :start_date, as: :string, input_html: { class: "date-picker", placeholder: "Start Date" } %>
      <%= f.input :end_date, as: :string, input_html: { class: "date-picker", placeholder: "End Date" } %>

      <%= f.hidden_field :car_id, value: @car.id %>

      <p>Total Price: <span id="total-price">Â£0</span></p>

      <%= f.submit "Book Now", class: "btn btn-primary" %>
    <% end %>
  </div>



</div>
